/* Clean & Immersive Manhwa Story Engine V2
   - Top nav with gear & shield icons
   - Scenario grid, play view, operations modal, status drawer
   - Glassmorphism, breathing background
   - Serif story text (Merriweather) and Inter for UI
*/

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap');

:root{
  --bg-0:#05060a;
  --bg-1:#07121a;
  --glass: rgba(255,255,255,0.04);
  --muted: rgba(255,255,255,0.65);
  --accent: #00c7ff;
  --accent-2: #ffb86b;
  --card: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
}

/* reset */
*{box-sizing:border-box}
html,body,#root{height:100%;margin:0;font-family:'Inter',system-ui, -apple-system, 'Segoe UI', Roboto, Arial;background:transparent;color:#fff}

/* breathing background */
.v2-bg{
  position:fixed;inset:0;z-index:-10;
  background:
    radial-gradient(700px 350px at 12% 14%, rgba(0,30,40,0.38), transparent 18%),
    radial-gradient(900px 450px at 88% 86%, rgba(18,6,25,0.28), transparent 15%),
    linear-gradient(180deg,var(--bg-0),var(--bg-1));
  animation: breathe 20s linear infinite;
}
@keyframes breathe{0%{filter:hue-rotate(0deg) brightness(.95)}50%{filter:hue-rotate(5deg) brightness(1.05)}100%{filter:hue-rotate(0deg) brightness(.95)}}

/* top nav */
.v2-topnav{
  position:fixed;left:0;right:0;top:0;height:64px;display:flex;align-items:center;justify-content:space-between;padding:8px 18px;
  backdrop-filter: blur(10px) saturate(120%); background: linear-gradient(180deg, rgba(10,10,10,0.45), rgba(10,10,10,0.30)); border-bottom: 1px solid var(--glass);
  z-index:60;
}
.v2-logo{font-weight:700;font-size:1.05rem;cursor:pointer}
.v2-right{display:flex;gap:8px;align-items:center}
.icon-btn{background:transparent;border:0;color:var(--muted);padding:8px;border-radius:8px;cursor:pointer}
.icon-btn:hover{background:rgba(255,255,255,0.02);color:#fff}

/* main layout */
.v2-main{padding-top:84px;min-height:calc(100vh - 84px);}

/* HOME - scenario grid */
.v2-home{padding:26px}
.v2-scenarios{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px}
.v2-card{background:var(--card);border-radius:12px;overflow:hidden;border:1px solid var(--glass);display:flex;flex-direction:column;box-shadow:0 10px 40px rgba(2,6,12,0.6)}
.v2-card-image{height:140px;background-size:cover;background-position:center}
.v2-card-body{padding:12px;display:flex;flex-direction:column;gap:8px}
.v2-card h3{margin:0}
.muted{color:var(--muted);font-size:0.95rem}

/* Create custom card */
.v2-card.create{display:flex;align-items:center;justify-content:center;cursor:pointer;min-height:180px}
.create-inner{display:flex;flex-direction:column;align-items:center;gap:8px;padding:18px}
.plus{font-size:28px;color:var(--accent)}

/* Play layout */
.v2-play{display:flex;gap:24px;padding:24px 28px;align-items:flex-start}
.v2-story{flex:1;display:flex;justify-content:center}
.v2-story-inner{width:100%;max-width:800px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));padding:36px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);box-shadow:0 30px 80px rgba(2,6,12,0.6);backdrop-filter: blur(6px);overflow:auto;max-height:calc(100vh - 260px)}
.v2-story-inner::-webkit-scrollbar{width:0;background:transparent}
.v2-paragraph{margin:0 0 22px 0;font-family:'Merriweather', serif;line-height:1.8;color:#e9e9e9}
.v2-dialogue{color:#fff;font-weight:700}
.v2-action{color:var(--accent);font-style:italic}
.v2-time{display:block;margin-top:8px;font-family:Inter;font-size:12px;color:rgba(255,255,255,0.28)}

/* side mini */
.v2-side-mini{width:220px;display:flex;flex-direction:column;gap:12px}
.mini-block{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
.mini-label{font-size:12px;color:var(--muted);margin-bottom:6px}
.mini-bar{height:10px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
.mini-fill{height:100%;background:linear-gradient(90deg,var(--accent),#0098bd);width:50%}
.mini-fill.energy{background:linear-gradient(90deg,var(--accent-2),#ff9f3b)}

/* command pill */
.v2-command{position:fixed;left:50%;transform:translateX(-50%);bottom:22px;z-index:80;display:flex;align-items:center;gap:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.06);backdrop-filter:blur(8px);width:calc(100% - 140px);max-width:1100px}
.modes{display:flex;gap:8px}
.mode{padding:8px 12px;border-radius:8px;border:0;background:transparent;color:var(--muted);cursor:pointer;font-weight:700}
.mode.active{background:rgba(255,255,255,0.02);color:#fff;transform:translateY(-3px)}
.cmd-input{flex:1;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#fff}
.cmd-actions{display:flex;gap:8px}
.btn{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);cursor:pointer}
.primary{background:linear-gradient(90deg,var(--accent),#0098bd);border:none;color:#00131a;font-weight:700}

/* ops modal */
.ops-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.48);display:flex;align-items:center;justify-content:center;z-index:120}
.ops-modal{width:820px;max-width:94%;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);backdrop-filter:blur(8px)}
.ops-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.ops-tabs{display:flex;flex-direction:column;gap:10px}
.ops-tab{border-radius:8px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
.ops-tab-btn{width:100%;text-align:left;padding:12px;background:rgba(255,255,255,0.01);border:0;color:#fff;cursor:pointer;font-weight:700}
.ops-tab-panel{padding:12px}
.ops-tab-panel textarea{width:100%;min-height:100px;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#fff;resize:vertical}

/* status drawer */
.status-drawer{position:fixed;right:-420px;top:84px;bottom:24px;width:380px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-left:1px solid rgba(255,255,255,0.03);padding:16px;border-radius:12px 0 0 12px;transition:right 280ms;z-index:110}
.status-drawer.open{right:18px}
.drawer-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.drawer-body{overflow:auto}
.stat-row{display:flex;justify-content:space-between;align-items:center}
.stat-bar{height:12px;background:rgba(255,255,255,0.03);border-radius:999px;margin-top:8px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
.stat-fill{height:100%;background:linear-gradient(90deg,var(--accent),#0098bd);width:50%}
.stat-fill.energy{background:linear-gradient(90deg,var(--accent-2),#ff9f3b)}

/* responsive */
@media (max-width:980px){
  .v2-play{flex-direction:column;padding:18px}
  .v2-side-mini{display:none}
  .v2-command{width:calc(100% - 36px)}
  .status-drawer{width:calc(100% - 36px);right:-100%;border-radius:12px}
  .status-drawer.open{right:18px;left:18px}
}
